(this.webpackJsonpdieta=this.webpackJsonpdieta||[]).push([[0],{53:function(e,t,a){e.exports=a(90)},60:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(15),r=a.n(i),s=(a(58),a(44)),c=a(46),o=a(52),m=a(33);s.a.use(c.a).use(o.a).use(m.e).init({fallbackLng:"en",backend:{loadPath:"/dieta/locales/{{lng}}/{{ns}}.json"},interpolation:{escapeValue:!1},debug:!0});s.a,a(60);var u=a(21),d=a(10),p=a(11),h=a(14),g=a(13),b=a(50),f=function(e){var t=e.onDeficitChange,a=Object(b.a)().t;return l.a.createElement("div",null,l.a.createElement("div",{className:"br2",style:{backgroundColor:"#96CCFF"}},l.a.createElement("h3",null,a("weight.deficit_title"))),l.a.createElement("div",{className:"fw7 f8 pb3"},a("weight.question")),l.a.createElement("div",{className:"flex items-center mb2"},l.a.createElement("input",{className:"mr2",type:"radio",id:"300",value:"300",name:"deficit",onClick:t}),l.a.createElement("label",{htmlFor:"300",className:"lh-copy"},"300")),l.a.createElement("div",{className:"flex items-center mb2"},l.a.createElement("input",{className:"mr2",type:"radio",id:"400",value:"400",name:"deficit",onClick:t}),l.a.createElement("label",{htmlFor:"400",className:"lh-copy"},"400")),l.a.createElement("div",{className:"flex items-center mb2"},l.a.createElement("input",{className:"mr2",type:"radio",id:"500",value:"500",name:"deficit",onClick:t}),l.a.createElement("label",{htmlFor:"500",className:"lh-copy"},"500")))},v=function(e){e.onRouteChange;var t=e.onCheckBeforeNextPage,a=e.nextPageMessage,n=Object(b.a)().t;return l.a.createElement("div",{className:"relative"},l.a.createElement("div",{className:" ma3"},l.a.createElement("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:n("button.name"),onClick:t}),l.a.createElement("span",{id:"spanId",className:"f5 link dark-pink absolute bottom-1"},a)))},E=(a(66),function(e){var t=e.onWeightChange,a=(e.onRouteChange,e.onDeficitChange),n=e.nextPageMessage,i=e.onCheckBeforeNextPage,r=Object(b.a)().t;return l.a.createElement("div",{className:"flex flex-column items-center"},l.a.createElement("div",{id:"cardDiv",className:"pa3 w5 w-70-ns"},l.a.createElement("article",{className:"ba pv1 br2 b--light-silver shadow-1"},l.a.createElement("div",{className:"ph3"},l.a.createElement("div",{className:"br2",style:{backgroundColor:"#96CCFF"}},l.a.createElement("h3",null,r("weight.start_title"))),l.a.createElement("div",{className:"fw7 f8 pb3"},r("weight.instruction")),l.a.createElement("div",{className:"measure"},l.a.createElement("label",{htmlFor:"name",className:"f6 b db mb2"},r("weight.weight"),l.a.createElement("span",{className:"normal black-60"}," kg")),l.a.createElement("div",{className:"flex flex-wrap"},l.a.createElement("input",{id:"weight",className:"input-reset ba b--black-60 pa2 db w3",type:"text","aria-describedby":"name-desc",onChange:t})),l.a.createElement("small",{id:"name-desc",className:"f6 black-60 db mb2"},r("weight.example")))))),l.a.createElement("div",{id:"cardDiv",className:"pa3 w5 w-70-ns"},l.a.createElement("article",{className:"ba pv1 br2 b--light-silver shadow-1"},l.a.createElement("div",{className:"ph3"},l.a.createElement(f,{onDeficitChange:a})))),l.a.createElement(v,{className:"",onCheckBeforeNextPage:function(){return i("activity")},nextPageMessage:n}))}),N=a(23),w=(a(67),function(e){var t=e.style,a=e.item,n=e.name,i=e.onActExeAmount,r=e.optionCheckedState,s=Object(b.a)().t;return l.a.createElement("div",{id:"cardDiv",className:"pa2 dib w5 center"},l.a.createElement("article",{className:"ba pv1 br2 b--light-silver shadow-1"},l.a.createElement("div",{className:"ph3"},l.a.createElement("div",{className:"br2",style:t},l.a.createElement("h3",null,s("options.day",{item:a}))),l.a.createElement("div",{className:"flex items-center mb2"},l.a.createElement("input",{className:"mr2",type:"radio",id:"".concat(n,"-rare"),value:"0",name:n,onChange:i,checked:r[0]}),l.a.createElement("label",{htmlFor:"".concat(n,"-rare"),className:"lh-copy"},s("options.rare"))),l.a.createElement("div",{className:"flex items-center mb2"},l.a.createElement("input",{className:"mr2",type:"radio",id:"".concat(n,"-low"),value:"1",name:n,onChange:i,checked:r[1]}),l.a.createElement("label",{htmlFor:"".concat(n,"-low"),className:"lh-copy"},s("options.low"))),l.a.createElement("div",{className:"flex items-center mb2"},l.a.createElement("input",{className:"mr2",type:"radio",id:"".concat(n,"-medium"),value:"2",name:n,onChange:i,checked:r[2]}),l.a.createElement("label",{htmlFor:"".concat(n,"-medium"),className:"lh-copy"},s("options.medium"))),l.a.createElement("div",{className:"flex items-center mb2"},l.a.createElement("input",{className:"mr2",type:"radio",id:"".concat(n,"-high"),value:"3",name:n,onChange:i,checked:r[3]}),l.a.createElement("label",{htmlFor:"".concat(n,"-high"),className:"lh-copy"},s("options.high"))))))}),y=function(e){var t=e.name,a=e.onLoadActExe,n=Object(b.a)().t;return l.a.createElement("div",{className:"ma3"},l.a.createElement("input",{className:"b pv2 input-reset ba b--black bg-transparent grow pointer f5 dib",type:"submit",value:n("loadButton"),name:t,onClick:a}))},C=a(9),k=(a(78),a(79),function(e){var t=e.data,a=Object(b.a)().t;return l.a.createElement("div",{className:"w-80"},l.a.createElement(C.Table,null,l.a.createElement(C.Thead,null,l.a.createElement(C.Tr,{className:"white bg-mid-gray"},l.a.createElement(C.Th,null,a("table.type")),l.a.createElement(C.Th,null,a("table.low")),l.a.createElement(C.Th,null,a("table.medium")),l.a.createElement(C.Th,null,a("table.high")))),l.a.createElement(C.Tbody,null,t.map((function(e,t){return l.a.createElement(C.Tr,{className:"",key:e.Type},l.a.createElement(C.Td,null,l.a.createElement("span",{role:"img","aria-label":e.Type,className:"pr2"},e.icon),e.Type),l.a.createElement(C.Td,null,e.Low),l.a.createElement(C.Td,null,e.Medium),l.a.createElement(C.Td,null,e.High))})))))}),x=function(e){e.onRouteChange,e.calculateNutrition;var t=e.onActExeAmount,a=e.onLoadActExe,i=e.optionCheckedState,r=e.onCheckBeforeNextPage,s=e.nextPageMessage,c=Object(b.a)(),o=c.t,m=c.i18n,u=Object(n.useState)([]),d=Object(N.a)(u,2),p=d[0],h=d[1];return Object(n.useEffect)((function(){fetch("/dieta/exerciseTableData/".concat(m.language,".json")).then((function(e){return e.json()})).then((function(e){return h(e)}))}),[m.language]),0===p.length?l.a.createElement("p",null,"loading"):l.a.createElement("div",{className:"pa3 flex flex-column items-center"},l.a.createElement("legend",{className:"fw7 f4 pv3 tc"},o("exercise.title")),l.a.createElement(k,{data:p}),l.a.createElement(y,{name:"exercise",onLoadActExe:a}),l.a.createElement("div",{className:"flex flex-wrap"},["1","2","3","4","5","6","7"].map((function(e,a){return l.a.createElement(w,{key:e,style:{backgroundColor:"#96CCFF"},item:e,name:"exercise".concat(e),onActExeAmount:t,optionCheckedState:i[a]})}))),l.a.createElement(v,{nextPageMessage:s,onCheckBeforeNextPage:function(){r("result")}}))},S=function(e){e.onRouteChange;var t=e.onActExeAmount,a=e.onLoadActExe,i=e.optionCheckedState,r=e.onCheckBeforeNextPage,s=e.nextPageMessage,c=Object(b.a)(),o=c.t,m=c.i18n,u=Object(n.useState)([]),d=Object(N.a)(u,2),p=d[0],h=d[1];return Object(n.useEffect)((function(){fetch("/dieta/activityTableData/".concat(m.language,".json")).then((function(e){return e.json()})).then((function(e){return h(e)}))}),[m.language]),0===p.length?l.a.createElement("p",null,"loading"):l.a.createElement("div",{className:"pa3 flex flex-column items-center"},l.a.createElement("legend",{className:"fw7 f4 pv3 tc"},o("activity.title")),l.a.createElement(k,{data:p}),l.a.createElement(y,{name:"activity",onLoadActExe:a}),l.a.createElement("div",{className:"flex flex-wrap"},["1","2","3","4","5","6","7"].map((function(e,a){return l.a.createElement(w,{key:e,style:{backgroundColor:"#A463F2"},item:e,name:"activity".concat(e),onActExeAmount:t,optionCheckedState:i[a]})}))),l.a.createElement(v,{onCheckBeforeNextPage:function(){r("exercise")},nextPageMessage:s}))},j=(a(80),function(e){var t,a,n=e.item,i=e.protein,r=e.oil,s=e.activity,c=e.exercise,o=e.dailyCalorie,m=e.dailyCarbon,u=Object(b.a)(),d=u.t,p=u.i18n,h=["Rare","Low","Medium","High"],g=["\u6975\u5c11","\u4f4e","\u4e2d","\u9ad8"],f=function(e,t){var a;return"en"===t?a=h:"zh"===t&&(a=g),a[e[n-1]]};return t=f(s,p.language),a=f(c,p.language),l.a.createElement("div",{id:"cardDiv",className:"pa2 dib w5 center"},l.a.createElement("article",{className:"ba pv1 br2 b--light-silver shadow-1"},l.a.createElement("div",{className:"ph3"},l.a.createElement("div",{className:"bg-green br2"},l.a.createElement("h3",null,d("nutrition.day",{item:n}))),l.a.createElement("h4",{className:"mb3"},d("nutrition.amount",{act:t,exe:a})),l.a.createElement("div",{className:""},l.a.createElement("dl",{className:"f5 lh-title mv1"},l.a.createElement("dt",{className:"dib b"},d("nutrition.protein"),":"),l.a.createElement("dd",{className:"dib ml1 near-gray"},i," g")),l.a.createElement("dl",{className:"f5 lh-title mv1"},l.a.createElement("dt",{className:"dib b"},d("nutrition.oil"),":"),l.a.createElement("dd",{className:"dib ml1 near-gray"},r," g")),l.a.createElement("dl",{className:"f5 lh-title mv1"},l.a.createElement("dt",{className:"dib b"},d("nutrition.carbohydrate"),":"),l.a.createElement("dd",{className:"dib ml1 near-gray"},m[n-1]," g")),l.a.createElement("dl",{className:"f5 lh-title mv1"},l.a.createElement("dt",{className:"dib b"},d("nutrition.totalCalorie"),": "),l.a.createElement("dd",{className:"dib ml1 near-gray"},o[n-1]," Kcal"))))))}),O=function(e){var t=e.name,a=e.onRouteChange,n=e.deficit,i=e.protein,r=e.oil,s=e.activity,c=e.exercise,o=e.dailyCalorie,m=e.dailyCarbon,u=Object(b.a)().t,d="Guest"!==t?l.a.createElement("div",{className:"pv3"},l.a.createElement("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:u("nutrition.buttonSignOut"),onClick:function(){a("signin")}})):l.a.createElement("div",{className:"pv3"},l.a.createElement("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:u("nutrition.buttonGuest"),onClick:function(){a("signup")}}));return l.a.createElement("div",{className:"pa3 flex flex-column items-center"},l.a.createElement("legend",{className:"fw7 f4 pv2 tc"},u("nutrition.title",{name:t})),l.a.createElement("div",{className:"b"},u("nutrition.deficit")," : ",n," Kcal"),l.a.createElement("div",{className:"flex flex-wrap"},["1","2","3","4","5","6","7"].map((function(e){return l.a.createElement(j,{key:e,item:e,protein:i,oil:r,activity:s,exercise:c,dailyCalorie:o,dailyCarbon:m})}))),d)},D=a(95),M=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).onEmailChange=function(t){e.setState({email:t.target.value})},e.onPasswordChange=function(t){e.setState({password:t.target.value})},e.onSignIn=function(){var t=e.state,a=t.email,n=t.password;if(a&&n)fetch("https://gentle-badlands-25513.herokuapp.com/signin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.state)}).then((function(e){return e.json()})).then((function(t){if(t.name)e.props.refreshWholeUser(t),e.props.onRouteChange("howItWorks"),e.props.onIsSignIn();else{var a=e.props.t("sign_in.error_fail");e.setState({message:a})}})).catch(console.log);else{var l=e.props.t("sign_in.error_blank");e.setState({message:l})}},e.state={email:"",password:"",message:""},e}return Object(p.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"pa4 black-80"},l.a.createElement("div",{className:"measure center"},l.a.createElement("fieldset",{id:"sign_in",className:"ba b--transparent ph0 mh0"},l.a.createElement("legend",{className:"f4 fw6 ph0 mh0"},this.props.t("sign_in.title")),l.a.createElement("div",{className:"mt3"},l.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address"},this.props.t("sign_in.email")),l.a.createElement("input",{className:"pa2 input-reset ba hover-bg-black hover-white w-100",type:"email",name:"email-address",id:"email-address",onChange:this.onEmailChange})),l.a.createElement("div",{className:"mv3"},l.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"password"},this.props.t("sign_in.password")),l.a.createElement("input",{className:"b pa2 input-reset ba hover-bg-black hover-white w-100",type:"password",name:"password",id:"password",onChange:this.onPasswordChange}))),l.a.createElement("div",{className:""},l.a.createElement("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:this.props.t("sign_in.button"),onClick:this.onSignIn})),l.a.createElement("div",{className:"lh-copy mt3"},l.a.createElement("p",{className:"f5 link dark-pink db"},this.state.message)))))}}]),a}(n.Component),P=Object(D.a)()(M),I=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).onGuestLogin=function(){e.props.refreshWholeUser({name:"Guest",email:"guest",weight:0,deficit:0}),e.props.onRouteChange("howItWorks"),e.props.onIsSignIn()},e.onNameChange=function(t){e.setState({name:t.target.value})},e.onEmailChange=function(t){e.setState({email:t.target.value})},e.onPasswordChange=function(t){e.setState({password:t.target.value})},e.onSignUpFetch=function(e,t,a){var n={name:e,email:t,password:a};return fetch("https://gentle-badlands-25513.herokuapp.com/signup",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).catch(console.log)},e.onSignUp=function(){var t=e.state,a=t.name,n=t.email,l=t.password;if(a&&n&&l)"Guest"!==e.props.name?e.onSignUpFetch(a,n,l).then((function(t){if(t.name)e.props.refreshWholeUser(t),e.props.onRouteChange("howItWorks"),e.props.onIsSignIn();else{var a=e.props.t("sign_up.error.fail");e.setState({message:a})}})).catch(console.log):e.onSignUpFetch(a,n,l).then((function(t){if(t.name){var a=e.props,n=a.deficit,l=a.dailyCalorie,i=a.dailyCarbon;e.props.onSaveCalculation(t.email,n,l,i),e.props.onRouteChange("result"),e.props.refreshPartialUser(t),e.props.onIsSignIn()}else{var r=e.props.t("sign_up.error.fail");e.setState({message:r})}})).catch(console.log);else{var i=e.props.t("sign_up.error_blank");e.setState({message:i})}},e.state={name:"",email:"",password:"",message:""},e}return Object(p.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"pa4 black-80"},l.a.createElement("div",{className:"measure center"},l.a.createElement("fieldset",{id:"sign_in",className:"ba b--transparent ph0 mh0"},l.a.createElement("legend",{className:"f4 fw6 ph0 mh0 flex"},l.a.createElement("div",null,this.props.t("sign_up.title")),l.a.createElement("div",{className:"pl5"},l.a.createElement("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:this.props.t("sign_up.try"),onClick:this.onGuestLogin}))),l.a.createElement("div",{className:"mt3"},l.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"name"},this.props.t("sign_up.name")),l.a.createElement("input",{className:"pa2 input-reset ba hover-bg-black hover-white w-50",type:"name",name:"name",id:"name",onChange:this.onNameChange})),l.a.createElement("div",{className:"mt3"},l.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address"},this.props.t("sign_up.email")),l.a.createElement("input",{className:"pa2 input-reset ba hover-bg-black hover-white w-100",type:"email",name:"email-address",id:"email-address",onChange:this.onEmailChange})),l.a.createElement("div",{className:"mv3"},l.a.createElement("label",{className:"db fw6 lh-copy f6",htmlFor:"password"},this.props.t("sign_up.password")),l.a.createElement("input",{className:"b pa2 input-reset ba hover-bg-black hover-white w-100",type:"password",name:"password",id:"password",onChange:this.onPasswordChange}))),l.a.createElement("div",{className:""},l.a.createElement("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:this.props.t("sign_up.button"),onClick:this.onSignUp})),l.a.createElement("div",{className:"lh-copy mt3"},l.a.createElement("p",{className:"f5 link dark-pink db"},this.state.message)))))}}]),a}(n.Component),R=Object(D.a)()(I),A=function(e){var t=e.onRouteChange,a=Object(b.a)().t;return l.a.createElement("div",{className:"mt5"},l.a.createElement("article",{className:"mw7 center ph3 ph5-ns tc br2 pv5 bg-washed-green dark-green mb5"},l.a.createElement("h1",{className:"fw6 f3 f2-ns lh-title mt0 mb3"},a("home.slogan")),l.a.createElement("h2",{className:"fw4 f4 lh-copy mt0 mb3 ph4"},a("home.description")),l.a.createElement("div",{className:"pt3"},l.a.createElement("p",{className:"f5 br-pill bg-dark-green no-underline washed-green ba b--dark-green grow pv2 ph3 dib",onClick:function(){t("howItWorks")}},a("home.option")))))},U=(a(82),function(e){var t=e.modifySpeedUp,a=e.modifySlowDown,n=e.onModifyDeficit;return l.a.createElement("div",null,t&&!a?l.a.createElement("div",null,l.a.createElement("div",{className:"flex items-center mb2"},l.a.createElement("input",{className:"mr2",type:"radio",id:"-100",value:"-100",name:"speedup",onClick:n}),l.a.createElement("label",{htmlFor:"-100",className:"lh-copy"},"-100 Kcal")),l.a.createElement("div",{className:"flex items-center mb2"},l.a.createElement("input",{className:"mr2",type:"radio",id:"-200",value:"-200",name:"speedup",onClick:n}),l.a.createElement("label",{htmlFor:"-200",className:"lh-copy"},"-200 Kcal")),l.a.createElement("div",{className:"flex items-center mb2"},l.a.createElement("input",{className:"mr2",type:"radio",id:"-300",value:"-300",name:"speedup",onClick:n}),l.a.createElement("label",{htmlFor:"-300",className:"lh-copy"},"-300 Kcal"))):!t&&a?l.a.createElement("div",null,l.a.createElement("div",{className:"flex items-center mb2"},l.a.createElement("input",{className:"mr2",type:"radio",id:"+100",value:"+100",name:"slowdown",onClick:n}),l.a.createElement("label",{htmlFor:"+100",className:"lh-copy"},"+100 Kcal")),l.a.createElement("div",{className:"flex items-center mb2"},l.a.createElement("input",{className:"mr2",type:"radio",id:"+200",value:"+200",name:"slowdown",onClick:n}),l.a.createElement("label",{htmlFor:"+200",className:"lh-copy"},"+200 Kcal")),l.a.createElement("div",{className:"flex items-center mb2"},l.a.createElement("input",{className:"mr2",type:"radio",id:"+300",value:"+300",name:"slowdown",onClick:n}),l.a.createElement("label",{htmlFor:"+300",className:"lh-copy"},"+300 Kcal"))):null)}),F=function(e){var t=e.maintainRate,a=e.deficit,n=e.onModifySpeed,i=e.modifySpeedUp,r=e.modifySlowDown,s=e.onModifyDeficit,c=(e.onRouteChange,Object(b.a)().t);return l.a.createElement("div",{className:""},l.a.createElement("div",{className:"br2",style:{backgroundColor:"#96CCFF"}},l.a.createElement("h3",null,c("next.title"))),l.a.createElement("div",{className:""},l.a.createElement("div",{className:"b lh-copy pb2"},"- ",c("next.question1"),l.a.createElement("br",null),"- ",c("next.question2"),l.a.createElement("br",null),"- ",c("next.question3"),l.a.createElement("br",null),"- ",c("next.question4")),l.a.createElement("div",{className:"pv1"},l.a.createElement("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:c("next.maintain"),name:"maintain",onClick:n}),l.a.createElement("small",{id:"name-desc",className:"f6 black-60 db mb2"},c("next.maintainPS")),t?l.a.createElement("p",null,c("next.currentDeficit")," ",l.a.createElement("span",null,a)," Kcal."):null),l.a.createElement("div",{className:"pv1"},l.a.createElement("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:c("next.speedUp"),name:"speedUp",onClick:n}),l.a.createElement("small",{id:"name-desc",className:"f6 black-60 db mb2"},c("next.speedUpPS"))),l.a.createElement(U,{modifySpeedUp:i,onModifyDeficit:s}),l.a.createElement("div",{className:"pv1"},l.a.createElement("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:c("next.slowDown"),name:"slowDown",onClick:n}),l.a.createElement("small",{id:"name-desc",className:"f6 black-60 db mb2"},c("next.slowDownPS"))),l.a.createElement(U,{modifySlowDown:r,onModifyDeficit:s})))},W=function(e){var t=e.showGuide,a=e.speed,n=Object(b.a)().t;return t?l.a.createElement("div",{id:"cardDiv",className:"pa3"},l.a.createElement("article",{className:"ba pv1 br2 b--light-silver shadow-1"},l.a.createElement("div",{className:"ph3"},l.a.createElement("div",{className:"br2",style:{backgroundColor:"#96CCFF"}},l.a.createElement("h3",null,n("guide.rate.".concat(a)))),l.a.createElement("div",{className:" b lh-copy pb2"},n("guide.result.".concat(a))),l.a.createElement("p",{className:"mb2"},n("guide.suggestion1.".concat(a))),l.a.createElement("p",null,n("guide.suggestion2.".concat(a)))))):null},T=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).onThisWeekInput=function(t){e.setState({weightThisWeek:parseFloat(t.target.value)})},e.onLastWeekInput=function(t){e.setState({weightLastWeek:parseFloat(t.target.value)})},e.rateCalculation=function(){e.setState({error:""});var t=e.state,a=t.weightThisWeek,n=t.weightLastWeek;if(isNaN(a)||isNaN(n)){var l=e.props.t("button.error_weight");e.setState({error:l})}else if(a<=1e3&&a>=40&&n<=1e3&&n>=40){var i=(a-n)/n,r=i<=-.005&&i>-.015?"normal":i<=-.015?"fast":"slow";e.setState({rate:Math.round(1e4*(i+Number.EPSILON))/100,showGuide:!0,speed:r}),window.scrollTo(0,300)}else{var s=e.props.t("button.error_weight");e.setState({error:s})}},e.state={showGuide:!1,weightThisWeek:0,weightLastWeek:0,rate:0,speed:"",error:""},e}return Object(p.a)(a,[{key:"render",value:function(){var e,t=this,a=this.state,n=a.showGuide,i=a.speed,r=a.error,s=a.rate,c=this.props.t;return!0===n&&(e=s>=0?l.a.createElement("p",null,c("rate.percentage.gain",{percent:s})):l.a.createElement("p",null,c("rate.percentage.lose",{percent:s}))),l.a.createElement("div",{className:"flex flex-column items-center"},l.a.createElement("div",{className:"w5 w-70-ns"},l.a.createElement("div",{id:"cardDiv",className:"pa3 "},l.a.createElement("article",{className:"ba pv1 br2 b--light-silver shadow-1"},l.a.createElement("div",{className:"ph3"},l.a.createElement("div",{className:"br2",style:{backgroundColor:"#96CCFF"}},l.a.createElement("h3",null,c("rate.title"))),l.a.createElement("div",{className:"fw7 f8  pb1"},c("rate.calculate")),l.a.createElement("div",{className:"measure"},l.a.createElement("label",{htmlFor:"name",className:"f6 b db mb2"},c("rate.aveThis"),l.a.createElement("span",{className:"normal black-60"}," kg")),l.a.createElement("input",{id:"weightThisWeek",className:"input-reset ba b--black-60 pa2 mb2 db w3",type:"text","aria-describedby":"name-desc",onChange:this.onThisWeekInput})),l.a.createElement("div",{className:"measure"},l.a.createElement("label",{htmlFor:"name",className:"f6 b db mb2"},c("rate.aveLast"),l.a.createElement("span",{className:"normal black-60"}," kg")),l.a.createElement("input",{id:"weightLastWeek",className:"input-reset ba b--black-60 pa2 mb2 db w3",type:"text","aria-describedby":"name-desc",onChange:this.onLastWeekInput})),l.a.createElement("div",{className:"pb3 flex flex-wrap"},l.a.createElement("input",{className:"ph3 pv2 input-reset ba b--black bg-transparent grow pointer b f6 dib",type:"submit",value:c("rate.submit"),onClick:this.rateCalculation}),l.a.createElement("span",{className:"f5 link dark-pink dib ml2 pt3"},r)),e))),l.a.createElement(W,{showGuide:n,speed:i})),l.a.createElement("div",{id:"cardDiv",className:"pa3 w5 w-70-ns"},l.a.createElement("article",{className:"ba pv1 br2 b--light-silver shadow-1"},l.a.createElement("div",{className:"ph3"},l.a.createElement(F,{maintainRate:this.props.maintainRate,deficit:this.props.deficit,onModifySpeed:this.props.onModifySpeed,modifySpeedUp:this.props.modifySpeedUp,modifySlowDown:this.props.modifySlowDown,onModifyDeficit:this.props.onModifyDeficit})))),l.a.createElement(v,{nextPageMessage:this.props.nextPageMessage,onCheckBeforeNextPage:function(){t.props.onCheckBeforeNextPage("activity")}}))}}]),a}(n.Component),_=Object(D.a)()(T),L=a(22),B=a(17),G=a(34),J=(a(83),function(e){var t=e.isSignIn,a=e.onRouteChange,n=e.getResult,i=Object(b.a)(),r=i.t,s=i.i18n,c=function(e){s.changeLanguage(e)};return l.a.createElement(G.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},l.a.createElement(G.a.Brand,{className:"grow pointer",onClick:function(){a("home")}},"Dieta"),l.a.createElement(G.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),l.a.createElement(G.a.Collapse,{id:"responsive-navbar-nav"},l.a.createElement(L.a,{className:"mr-auto"},l.a.createElement(B.a,{title:r("navbar.menu"),id:"collasible-nav-dropdown"},l.a.createElement(B.a.Item,{href:"#howItWorks",onClick:function(e){a("howItWorks"),e.preventDefault()}},r("navbar.theory")),l.a.createElement(B.a.Item,{href:"#calculation",onClick:function(e){a("calculation"),e.preventDefault()}},r("navbar.start_diet")),l.a.createElement(B.a.Item,{href:"#nextMove",onClick:function(e){a("nextMove"),e.preventDefault()}},r("navbar.during_diet")),l.a.createElement(B.a.Item,{href:"#getResult",onClick:function(e){n(),e.preventDefault()}},r("navbar.latest_result")))),l.a.createElement(L.a,null,l.a.createElement(B.a,{title:r("navbar.language"),id:"collasible-nav-dropdown"},l.a.createElement(B.a.Item,{href:"#lngZH",onClick:function(e){c("zh"),e.preventDefault()}},"Chinese"),l.a.createElement(B.a.Item,{href:"#lngEN",onClick:function(e){c("en"),e.preventDefault()}},"English")),t?l.a.createElement(L.a,null,l.a.createElement(L.a.Link,{href:"signin",onClick:function(e){a("signin"),e.preventDefault()}},"Sign Out")):l.a.createElement(L.a,null,l.a.createElement(L.a.Link,{href:"#signin",onClick:function(e){a("signin"),e.preventDefault()}},r("navbar.sign_in")),l.a.createElement(L.a.Link,{href:"#signup",onClick:function(e){a("signup"),e.preventDefault()}},r("navbar.sign_up"))))))}),K=(a(87),function(e){var t=e.title,a=e.description;return l.a.createElement("div",{className:"pa2 pv3 center w5 "},l.a.createElement("article",{className:"ba pv1 br2 b--light-silver shadow-1"},l.a.createElement("div",{className:"ph3"},l.a.createElement("div",{id:"colorDiv",className:"br2"},l.a.createElement("h3",null,t)),l.a.createElement("p",{id:"description"},a))))}),H=(a(88),function(){var e=Object(b.a)().i18n,t=Object(n.useState)([]),a=Object(N.a)(t,2),i=a[0],r=a[1],s=Object(n.useState)([]),c=Object(N.a)(s,2),o=c[0],m=c[1];return Object(n.useEffect)((function(){fetch("/cardsData/howItWorks/".concat(e.language,".json")).then((function(e){return e.json()})).then((function(e){return r(e)}))}),[e.language]),Object(n.useEffect)((function(){fetch("/dieta/cardsData/howToUse/".concat(e.language,".json")).then((function(e){return e.json()})).then((function(e){return m(e)}))}),[e.language]),0===i.length||0===o.length?(console.log("working",i.length),console.log("using",o.length),l.a.createElement("p",null,"loading")):l.a.createElement("div",{className:""},l.a.createElement("div",{className:"flex flex-wrap",id:"yellow"},i.map((function(e,t){return l.a.createElement(K,{key:e.title,title:e.title,description:e.description})}))),l.a.createElement("div",{className:"flex flex-wrap",id:"blue"},o.map((function(e,t){return l.a.createElement(K,{key:e.title,title:e.title,description:e.description})}))))}),q=document.getElementById("modal-root"),z=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).el=document.createElement("div"),e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){q.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){q.removeChild(this.el)}},{key:"render",value:function(){return r.a.createPortal(this.props.children,this.el)}}]),a}(n.Component),V=function(e){var t=e.showNoResultModal,a=e.showNoActExeModal,n=e.onHideModal;return t?l.a.createElement("div",{className:"modalClass"},l.a.createElement("div",{className:"pa2 pv3 center w5"},l.a.createElement("article",{className:"ba pv1 br2 b--light-silver shadow-1 bg-white"},l.a.createElement("div",{className:"ph3 tc"},l.a.createElement("div",{id:"colorDiv",className:"br2 bg-orange"},l.a.createElement("h3",null,"No record.")),l.a.createElement("p",{id:"description"},"Let's get start from calculation."),l.a.createElement("div",{className:"relative pb3"},l.a.createElement("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:"Got it!",onClick:function(){n("showNoResultModal")}})))))):a?l.a.createElement("div",{className:"modalClass"},l.a.createElement("div",{className:"pa2 pv3 center w5"},l.a.createElement("article",{className:"ba pv1 br2 b--light-silver shadow-1 bg-white"},l.a.createElement("div",{className:"ph3 tc"},l.a.createElement("div",{id:"colorDiv",className:"br2 bg-orange"},l.a.createElement("h3",null,"No record.")),l.a.createElement("p",{id:"description"},"Please choose options."),l.a.createElement("div",{className:"relative pb3"},l.a.createElement("input",{className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:"Got it!",onClick:function(){n("showNoActExeModal")}})))))):null},Z=[[!1,!1,!1,!1],[!1,!1,!1,!1],[!1,!1,!1,!1],[!1,!1,!1,!1],[!1,!1,!1,!1],[!1,!1,!1,!1],[!1,!1,!1,!1]],$={user:{name:"",email:"",weight:0,deficit:0},isSignIn:!1,route:"home",nextPageMessage:"",activity:[],exercise:[],protein:0,oil:0,dailyCalorie:[],dailyCarbon:[],checkedActivity:Z,checkedExercise:Z,maintainRate:!1,modifySpeedUp:!1,modifySlowDown:!1,modifyDeficit:0,showNoResultModal:!1,showNoActExeModal:!1},Q=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).fetchUser=function(e){return fetch("https://gentle-badlands-25513.herokuapp.com/user",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}).then((function(e){return e.json()})).catch(console.log)},e.refreshWholeUser=function(t){e.setState({user:t})},e.refreshPartialUser=function(t){var a=t.name,n=t.email;return e.setState((function(e){var t=Object.assign({},e.user);return t.name=a,t.email=n,{user:t}})),a},e.deleteUserNumber=function(){e.setState((function(e){var t=Object.assign({},e.user);return t.weight=0,t.deficit=0,{user:t}}))},e.onIsSignIn=function(){e.setState({isSignIn:!0})},e.onWeightChange=function(t){var a=t.target.value;e.setState((function(e){var t=Object.assign({},e.user);return t.weight=parseFloat(a),{user:t}}))},e.onDeficitChange=function(t){var a=t.target.value;e.setState((function(e){var t=Object.assign({},e.user);return t.deficit=parseInt(a),{user:t}}))},e.onCheckBeforeNextPage=function(t){e.setState({nextPageMessage:""});var a=e.state.route;switch(t){case"activity":if("calculation"===a){var n=e.state.user,l=n.weight,i=n.deficit;if(!isNaN(l)&&l<=1e3&&l>=40)if(0!==i)e.onRouteChange("activity");else{var r=e.props.t("button.error_deficit");e.setState({nextPageMessage:r})}else{var s=e.props.t("button.error_weight");e.setState({nextPageMessage:s})}}else if("nextMove"===a){var c=e.state,o=c.maintainRate,m=c.modifyDeficit;if(!1===o&&0===m){var u=e.props.t("button.error_deficit");e.setState({nextPageMessage:u})}else e.onRouteChange("activity")}break;case"exercise":var d=e.state.activity;if(7!==d.length||d.includes(void 0)){var p=e.props.t("button.error_option");e.setState({nextPageMessage:p})}else e.onRouteChange("exercise"),e.onDeleteActExeOption("activity");break;case"result":var h=e.state.exercise;if(7!==h.length||h.includes(void 0)){var g=e.props.t("button.error_option");e.setState({nextPageMessage:g})}else e.onRouteChange("result"),e.onDeleteActExeOption("exercise"),e.calculateNutrition();break;default:console.log("default")}},e.onRouteChange=function(t){e.state.isSignIn?"signin"===t?e.setState($):("calculation"===t?e.deleteUserNumber():"nextMove"===t&&e.fetchUser(e.state.user.email).then((function(t){return e.refreshWholeUser(t)})),e.setState({route:t})):"calculation"===t||"nextMove"===t||"result"===t||"signin"===t?e.setState({route:"signin"}):e.setState({route:t}),window.scrollTo(0,0)},e.onActExeAmount=function(t){var a,n=t.target.value,l=t.target.name,i=l.slice(-1),r=l.slice(0,-1),s="checked"+r.slice(0,1).toUpperCase()+r.slice(1),c=e.state[r].slice();c[i-1]=parseInt(n);var o=e.state[s].slice();o[i-1]=[!1,!1,!1,!1],o[i-1][n]=!0,e.setState((a={},Object(u.a)(a,r,c),Object(u.a)(a,s,o),a))},e.onDeleteActExeOption=function(t){var a="checked"+t.slice(0,1).toUpperCase()+t.slice(1);e.setState(Object(u.a)({},a,Z))},e.onLoadActExe=function(t){var a=t.target.name,n="checked"+a.slice(0,1).toUpperCase()+a.slice(1);fetch("https://gentle-badlands-25513.herokuapp.com/".concat(a),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.state.user.email})}).then((function(e){return e.json()})).then((function(t){if("No saved record."===t)e.onShowModal("showNoActExeModal");else{var l;delete t.email;var i=Object.values(t);e.setState((l={},Object(u.a)(l,a,i),Object(u.a)(l,n,e.getWeekOption(i)),l))}})).catch(console.log)},e.getWeekOption=function(e){for(var t=[],a=0;a<7;a++){var n=[!1,!1,!1,!1];n[e[a]]=!0,t.push(n)}return t},e.calculateNutrition=function(){for(var t=e.state.user,a=t.name,n=t.email,l=t.weight,i=t.deficit,r=e.state,s=r.activity,c=r.exercise,o=r.modifyDeficit,m=2*l,u=1*l,d=[],p=[],h=parseInt(i)+parseInt(-o),g=0;g<7;g++)d[g]=parseInt(2.2*l*(12+parseInt(s[g])+parseInt(c[g])))-h,p[g]=parseInt((d[g]-4*m-9*u)/4);e.setState({protein:m,oil:u,dailyCalorie:d,dailyCarbon:p}),e.setState((function(e){var t=Object.assign({},e.user);return t.deficit=h,{user:t}})),"Guest"===a||e.onSaveCalculation(n,h,d,p)},e.onSaveCalculation=function(t,a,n,l){var i=e.state.user.weight,r=e.state,s=r.activity,c=r.exercise;fetch("https://gentle-badlands-25513.herokuapp.com/saveData",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,weight:i,deficit:a,activity:s,exercise:c,dailyCalorie:n,dailyCarbon:l})}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch(console.log)},e.onModifySpeed=function(t){"maintain"===t.target.name?e.setState({maintainRate:!0,modifyDeficit:0,modifySpeedUp:!1,modifySlowDown:!1}):"speedUp"===t.target.name?e.setState({maintainRate:!1,modifySpeedUp:!0,modifySlowDown:!1}):"slowDown"===t.target.name&&e.setState({maintainRate:!1,modifySpeedUp:!1,modifySlowDown:!0})},e.onModifyDeficit=function(t){e.setState({maintainRate:!1,modifyDeficit:t.target.value})},e.getResult=function(){fetch("https://gentle-badlands-25513.herokuapp.com/result",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.state.user.email})}).then((function(e){return e.json()})).then((function(t){var a=t.user,n=a.weight,l=a.deficit,i=t.userCalorie,r=t.userCarbon,s=t.userActivity,c=t.userExercise;0===n?(e.onShowModal("showNoResultModal"),e.onRouteChange("calculation")):(e.setState((function(e){var t=Object.assign({},e.user);return t.weight=n,t.deficit=l,{user:t}})),delete i.email,delete r.email,delete s.email,delete c.email,e.setState({protein:2*n,oil:n,dailyCalorie:Object.values(i),dailyCarbon:Object.values(r),activity:Object.values(s),exercise:Object.values(c)}),e.onRouteChange("result"))})).catch(console.log)},e.onShowModal=function(t){e.setState(Object(u.a)({},t,!0))},e.onHideModal=function(t){e.setState(Object(u.a)({},t,!1))},e.renderSwitch=function(t){switch(t){case"home":return l.a.createElement(A,{onRouteChange:e.onRouteChange});case"signin":return l.a.createElement(P,{refreshWholeUser:e.refreshWholeUser,onRouteChange:e.onRouteChange,onIsSignIn:e.onIsSignIn});case"signup":return l.a.createElement(R,{name:e.state.user.name,refreshWholeUser:e.refreshWholeUser,refreshPartialUser:e.refreshPartialUser,onRouteChange:e.onRouteChange,onIsSignIn:e.onIsSignIn,onSaveCalculation:e.onSaveCalculation,deficit:e.state.user.deficit,dailyCalorie:e.state.dailyCalorie,dailyCarbon:e.state.dailyCarbon});case"howItWorks":return l.a.createElement(H,null);case"calculation":return l.a.createElement(E,{onWeightChange:e.onWeightChange,onDeficitChange:e.onDeficitChange,nextPageMessage:e.state.nextPageMessage,onCheckBeforeNextPage:e.onCheckBeforeNextPage});case"activity":return l.a.createElement(S,{onActExeAmount:e.onActExeAmount,onLoadActExe:e.onLoadActExe,optionCheckedState:e.state.checkedActivity,onDeleteActExeOption:e.onDeleteActExeOption,nextPageMessage:e.state.nextPageMessage,onCheckBeforeNextPage:e.onCheckBeforeNextPage});case"exercise":return l.a.createElement(x,{onActExeAmount:e.onActExeAmount,onLoadActExe:e.onLoadActExe,optionCheckedState:e.state.checkedExercise,onDeleteActExeOption:e.onDeleteActExeOption,nextPageMessage:e.state.nextPageMessage,onCheckBeforeNextPage:e.onCheckBeforeNextPage});case"result":return l.a.createElement(O,{onRouteChange:e.onRouteChange,name:e.state.user.name,deficit:e.state.user.deficit,protein:e.state.protein,oil:e.state.oil,activity:e.state.activity,exercise:e.state.exercise,dailyCalorie:e.state.dailyCalorie,dailyCarbon:e.state.dailyCarbon});case"nextMove":return l.a.createElement(_,{maintainRate:e.state.maintainRate,deficit:e.state.user.deficit,onModifySpeed:e.onModifySpeed,modifySpeedUp:e.state.modifySpeedUp,modifySlowDown:e.state.modifySlowDown,onModifyDeficit:e.onModifyDeficit,nextPageMessage:e.state.nextPageMessage,onCheckBeforeNextPage:e.onCheckBeforeNextPage});default:return}},e.state=JSON.parse(JSON.stringify($)),e}return Object(p.a)(a,[{key:"render",value:function(){var e=l.a.createElement(z,null,l.a.createElement(V,{showNoResultModal:this.state.showNoResultModal,showNoActExeModal:this.state.showNoActExeModal,onHideModal:this.onHideModal}));return l.a.createElement("div",null,l.a.createElement(J,{name:this.state.user.name,onRouteChange:this.onRouteChange,isSignIn:this.state.isSignIn,getResult:this.getResult}),l.a.createElement("div",null,this.renderSwitch(this.state.route)),e)}}]),a}(n.Component),X=Object(D.a)()(Q);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(89);r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(l.a.Suspense,{fallback:"Loading..."},l.a.createElement(X,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[53,1,2]]]);
//# sourceMappingURL=main.d0eda5fd.chunk.js.map